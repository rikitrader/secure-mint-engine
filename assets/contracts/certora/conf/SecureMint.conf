{
    "files": [
        "src/SecureMintToken.sol",
        "src/SecureMintPolicy.sol",
        "src/BackingOracle.sol",
        "src/TreasuryVault.sol",
        "src/EmergencyPause.sol"
    ],
    "verify": "SecureMintPolicy:certora/SecureMint.spec",
    "wait_for_results": "all",
    "rule_sanity": "basic",
    "optimistic_loop": true,
    "loop_iter": 3,
    "optimistic_hashing": true,
    "prover_args": [
        "-mediumTimeout=180",
        "-depth=25"
    ],
    "packages": [
        "@openzeppelin/contracts=lib/openzeppelin-contracts/contracts"
    ],
    "solc": "solc8.20",
    "solc_optimize": "200",
    "msg": "SecureMint Engine - Formal Verification",
    "link": [
        "SecureMintPolicy:token=SecureMintToken",
        "SecureMintPolicy:oracle=BackingOracle",
        "SecureMintPolicy:treasury=TreasuryVault",
        "SecureMintPolicy:emergencyPause=EmergencyPause"
    ],
    "mutations": {
        "manual_mutants": [
            {
                "file": "src/SecureMintPolicy.sol",
                "function": "secureMint",
                "description": "Remove backing check",
                "mutant": "// require(backing >= totalSupply + amount)"
            },
            {
                "file": "src/SecureMintPolicy.sol",
                "function": "secureMint",
                "description": "Remove staleness check",
                "mutant": "// require(!oracle.isStale())"
            }
        ]
    },
    "rule": [
        "solvencyInvariant",
        "rateLimitingInvariant",
        "oracleFreshnessRequired",
        "emergencyPauseBlocksMinting"
    ]
}
